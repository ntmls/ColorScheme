<!DOCTYPE="html">
<html>
    <head>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <script src="RgbColor.js"></script>
        <script src="http://underscorejs.org/underscore-min.js"></script>
        <script src="ColorScheme.js"></script>
        <script src="ui/transition.js"></script>
        <script src="ui/view.js"></script>
        <script src="ui/Model.js"></script>
        <script src="ui/Actions.js"></script>

        <style>
            .fileUpload {
                position: relative;
                overflow: hidden;
                margin: 10px;
            }

                .fileUpload input.upload {
                    position: absolute;
                    top: 0;
                    right: 0;
                    margin: 0;
                    padding: 0;
                    font-size: 20px;
                    cursor: pointer;
                    opacity: 0;
                    filter: alpha(opacity=0);
                }
        </style>
        <script>

            var clusters;
            var model, view;

            function setup() {
                view = new View(document);
                model = new Model(view, transition);
                model.initialize();
            }

            /*
            function execute() {
              
                var count = document.getElementById('cluster-count').value;
                clusters = ColorScheme.clusterColors(originalImageData.data, count);
                var colors = clusters.map(function (x) { return x.color; });
                colors = ColorScheme.sortColors(colors);
              
                buildColorDivs(colors);
                renderQuantized(originalImageData, clusters);
            }
            */

            // -------- render quantized image ---------
            /*
            function renderQuantized(originalImageData, clusters) {
                var original = document.getElementById('scaled-image');
                var canvas = document.getElementById('quantized-image');
                var bytes = originalImageData.data;
                var cluster;
                canvas.width = original.width;
                canvas.height = original.height;
                var ctx = canvas.getContext('2d');
                var imageData = ctx.createImageData(originalImageData.width, originalImageData.height)
                var len = bytes.length;
                for (var i = 0; i < len; i = i + 4) {
                    var color = new RgbColor(bytes[i], bytes[i + 1], bytes[i + 2]);
                    c = ColorScheme.findNearestCluster(color, clusters);
                    imageData.data[i] = c.color.red;
                    imageData.data[i + 1] = c.color.green;
                    imageData.data[i + 2] = c.color.blue;
                    imageData.data[i + 3] = bytes[i + 3];
                }
                ctx.putImageData(imageData, 0, 0, 0, 0, canvas.width, canvas.height);
            }
            */
        </script>
    </head>
    <body onload="setup()">
        <div id="container" style="position: absolute;"></div>
    </body>
</html>
